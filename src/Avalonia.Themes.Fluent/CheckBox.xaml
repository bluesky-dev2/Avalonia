<Styles xmlns="https://github.com/avaloniaui" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <Design.PreviewWith>
    <Border Padding="20">
      <CheckBox IsThreeState="True" IsChecked="True" />
    </Border>
  </Design.PreviewWith>
  <Style Selector="CheckBox">
    <Setter Property="Background" Value="{DynamicResource CheckBoxBackgroundUnchecked}" />
    <Setter Property="Foreground" Value="{DynamicResource CheckBoxForegroundUnchecked}" />
    <Setter Property="BorderBrush" Value="{DynamicResource CheckBoxBorderBrushUnchecked}" />
    <Setter Property="Padding" Value="8,5,0,0" />
    <Setter Property="HorizontalAlignment" Value="Left" />
    <Setter Property="VerticalAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
    <Setter Property="VerticalContentAlignment" Value="Top" />
    <Setter Property="FontFamily" Value="{DynamicResource ContentControlThemeFontFamily}" />
    <Setter Property="FontSize" Value="{DynamicResource ControlContentThemeFontSize}" />
    <Setter Property="MinWidth" Value="120" />
    <Setter Property="MinHeight" Value="32" />
    <!--<Setter Property="UseSystemFocusVisuals" Value="{StaticResource UseSystemFocusVisuals}" />
    <Setter Property="FocusVisualMargin" Value="-7,-3,-7,-3" />-->
    <Setter Property="Template">
      <ControlTemplate>
        <Border x:Name="PART_Border" Background="{TemplateBinding Background}"
                         BorderBrush="{TemplateBinding BorderBrush}"
                         BorderThickness="{TemplateBinding BorderThickness}"
                          CornerRadius="{DynamicResource ControlCornerRadius}">
          <Grid x:Name="RootGrid" ColumnDefinitions="20,*">
            <Grid VerticalAlignment="Top" Height="32">
              <Border x:Name="NormalRectangle"
                  BorderThickness="{DynamicResource CheckBoxBorderThemeThickness}"
                  UseLayoutRounding="False"
                  Height="20"
                  Width="20"
                  CornerRadius="{DynamicResource ControlCornerRadius}" />

              <Viewbox Margin="5" >
                <Path x:Name="CheckGlyph" Stretch="Uniform" />
              </Viewbox>

            </Grid>
            <ContentPresenter x:Name="ContentPresenter"
                           ContentTemplate="{TemplateBinding ContentTemplate}"
                           Content="{TemplateBinding Content}"
                           Margin="{TemplateBinding Padding}"
                           HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                           VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                           Grid.Column="1" />
            <!-- TODO: TextWrapping="Wrap" on contentpresenter -->
          </Grid>
        </Border>
      </ControlTemplate>
    </Setter>
  </Style>

  <!-- Unchecked Normal State -->
  <Style Selector="CheckBox /template/ ContentPresenter#ContentPresenter">
    <Setter Property="TextBlock.Foreground" Value="{DynamicResource CheckBoxForegroundUnchecked}" />
  </Style>

  <Style Selector="CheckBox /template/ Border#PART_Border">
    <Setter Property="Background" Value="{DynamicResource CheckBoxBackgroundUnchecked}" />
    <Setter Property="BorderBrush" Value="{DynamicResource CheckBoxBorderBrushUnchecked}" />
  </Style>

  <Style Selector="CheckBox /template/ Border#NormalRectangle">
    <Setter Property="BorderBrush" Value="{DynamicResource CheckBoxCheckBackgroundStrokeUnchecked}" />
    <Setter Property="Background" Value="{DynamicResource CheckBoxCheckBackgroundFillUnchecked}" />
  </Style>

  <Style Selector="CheckBox /template/ Path#CheckGlyph">
    <Setter Property="Fill" Value="{DynamicResource CheckBoxCheckGlyphForegroundUnchecked}" />
    <Setter Property="Opacity" Value="0" />
  </Style>

  <!-- Unchecked PointerOver State -->
  <Style Selector="CheckBox:pointerover /template/ ContentPresenter#ContentPresenter">
    <Setter Property="TextBlock.Foreground" Value="{DynamicResource CheckBoxForegroundUncheckedPointerOver}" />
  </Style>

  <Style Selector="CheckBox:pointerover /template/ Border#PART_Border">
    <Setter Property="Background" Value="{DynamicResource CheckBoxBackgroundUncheckedPointerOver}" />
    <Setter Property="BorderBrush" Value="{DynamicResource CheckBoxBorderBrushUncheckedPointerOver}" />
  </Style>

  <Style Selector="CheckBox:pointerover /template/ Border#NormalRectangle">
    <!--<Setter Property="BorderBrush" Value="{DynamicResource CheckBoxCheckBackgroundStrokeUncheckedPointerOver}" />-->
    <!--<Setter Property="Background" Value="{DynamicResource CheckBoxCheckBackgroundFillUncheckedPointerOver}" />-->
  </Style>

  <Style Selector="CheckBox:pointerover /template/ Path#CheckGlyph">
    <Setter Property="Fill" Value="{DynamicResource CheckBoxCheckGlyphForegroundUncheckedPointerOver}" />
  </Style>

  <!-- Unchecked Pressed State -->

  <!-- Unchecked Disabled state -->


  <!-- Checked Normal State -->
  <Style Selector="CheckBox:checked /template/ ContentPresenter#ContentPresenter">
    <Setter Property="TextBlock.Foreground" Value="{DynamicResource CheckBoxForegroundChecked}" />
  </Style>

  <Style Selector="CheckBox:checked /template/ Border#PART_Border">
    <Setter Property="Background" Value="{DynamicResource CheckBoxBackgroundChecked}" />
    <Setter Property="BorderBrush" Value="{DynamicResource CheckBoxBorderBrushChecked}" />
  </Style>

  <Style Selector="CheckBox:checked /template/ Border#NormalRectangle">
    <Setter Property="BorderBrush" Value="{DynamicResource CheckBoxCheckBackgroundStrokeChecked}" />
    <Setter Property="Background" Value="{DynamicResource CheckBoxCheckBackgroundFillChecked}" />
  </Style>

  <Style Selector="CheckBox:checked /template/ Path#CheckGlyph">
    <Setter Property="Fill" Value="{DynamicResource CheckBoxCheckGlyphForegroundChecked}" />
    <Setter Property="Data" Value="M1507 31L438 1101L-119 543L-29 453L438 919L1417 -59L1507 31Z" />
    <Setter Property="Opacity" Value="1" />
  </Style>

  <!-- Checked PointerOver State -->
  <Style Selector="CheckBox:checked:pointerover /template/ ContentPresenter#ContentPresenter">
    <Setter Property="TextBlock.Foreground" Value="{DynamicResource CheckBoxForegroundCheckedPointerOver}" />
  </Style>

  <Style Selector="CheckBox:checked:pointerover /template/ Border#PART_Border">
    <Setter Property="Background" Value="{DynamicResource CheckBoxBackgroundCheckedPointerOver}" />
    <Setter Property="BorderBrush" Value="{DynamicResource CheckBoxBorderBrushCheckedPointerOver}" />
  </Style>

  <Style Selector="CheckBox:checked:pointerover /template/ Border#NormalRectangle">
    <!--<Setter Property="BorderBrush" Value="{DynamicResource CheckBoxCheckBackgroundStrokeCheckedPointerOver}" />-->
    <!--<Setter Property="Background" Value="{DynamicResource CheckBoxCheckBackgroundFillCheckedPointerOver}" />-->
  </Style>

  <Style Selector="CheckBox:checked:pointerover /template/ Path#CheckGlyph">
    <Setter Property="Fill" Value="{DynamicResource CheckBoxCheckGlyphForegroundCheckedPointerOver}" />
  </Style>

  <!-- Checked Pressed State -->

  <!-- Checked Disabled State -->


  <!-- Indeterminate Normal State -->
  <Style Selector="CheckBox:indeterminate /template/ ContentPresenter#ContentPresenter">
    <Setter Property="TextBlock.Foreground" Value="{DynamicResource CheckBoxForegroundIndeterminate}" />
  </Style>

  <Style Selector="CheckBox:indeterminate /template/ Border#PART_Border">
    <Setter Property="Background" Value="{DynamicResource CheckBoxBackgroundIndeterminate}" />
    <Setter Property="BorderBrush" Value="{DynamicResource CheckBoxBorderBrushIndeterminate}" />
  </Style>

  <Style Selector="CheckBox:indeterminate /template/ Border#NormalRectangle">
    <Setter Property="BorderBrush" Value="{DynamicResource CheckBoxCheckBackgroundStrokeIndeterminate}" />
    <Setter Property="Background" Value="{DynamicResource CheckBoxCheckBackgroundFillIndeterminate}" />
  </Style>

  <Style Selector="CheckBox:indeterminate /template/ Path#CheckGlyph">
    <Setter Property="Fill" Value="{DynamicResource CheckBoxCheckGlyphForegroundIndeterminate}" />
    <Setter Property="Data" Value="M1536 1536v-1024h-1024v1024h1024z" />
    <Setter Property="Opacity" Value="1" />
  </Style>

  <!-- Indeterminate PointerOver State -->

  <!-- Indeterminate Pressed State -->

  <!-- Indeterminate Disabled State -->

  <Style Selector="CheckBox:pointerover /template/ Border#border">
    <Setter Property="BorderBrush" Value="{DynamicResource ThemeBorderHighBrush}"/>
  </Style>
  <Style Selector="CheckBox /template/ Path#checkMark">
    <Setter Property="IsVisible" Value="False"/>
  </Style>
  <Style Selector="CheckBox /template/ Rectangle#indeterminateMark">
    <Setter Property="IsVisible" Value="False"/>
  </Style>
  <Style Selector="CheckBox:checked /template/ Path#checkMark">
    <Setter Property="IsVisible" Value="True"/>
  </Style>
  <Style Selector="CheckBox:indeterminate /template/ Rectangle#indeterminateMark">
    <Setter Property="IsVisible" Value="True"/>
  </Style>
  <Style Selector="CheckBox:disabled /template/ Border#border">
    <Setter Property="Opacity" Value="{DynamicResource ThemeDisabledOpacity}"/>
  </Style>
</Styles>
